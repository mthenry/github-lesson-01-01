name: Artifacts 2

on: [push]

env:
    FILE_NAME: hello-python.py

jobs:
    job1:
        - name: Push Artifacts
          runs-on: ubuntu-latest
          steps:
            - name: Checkout repository
              uses: actions/checkout@v3
            - name: Upload artifact for Linux
              uses: actions/upload-artifact@v3.1.0
              with:
                name: python-script
                path: ./${{env.FILE_NAME}}
            - name: Upload artifact for Windows
              uses: actions/upload-artifact@v3.1.0
              with:
                name: python-script
                path: ./${{env.FILE_NAME}}
    job2:
        - name: Test Linux
          runs-on: ubuntu-latest
          needs: [job1]
          steps:
            - name: Download artifact
              uses: actions/download-artifact@v3.0.0
              with:
                name: python-script
            - name: Setup Python
              uses: actions/setup-python@v4
              with:
                python-version: '3.x' # Version range or exact version of a Python version to use, using SemVer's version range syntax
                architecture: 'x64' # optional x64 or x86. Defaults to x64 if not specified
            - name: Run Python script
              run: python python-script